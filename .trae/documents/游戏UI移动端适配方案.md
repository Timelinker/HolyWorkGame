# 游戏UI移动端适配方案

## 1. 问题分析

### 主场景（main_scene.tscn）
- ✗ 所有UI元素使用固定偏移量，未使用锚点系统
- ✗ 布局模式为固定偏移量，未使用自适应布局
- ✗ ShopButton位置固定，在小屏幕设备上可能超出范围
- ✗ WorkButton尺寸固定，未使用自适应大小

### 商城弹窗（shop_popup.tscn）
- ✓ 整体使用锚点系统，相对较好
- ✗ 内部商品项布局需要优化

## 2. 适配目标

- ✅ 使用锚点系统和容器节点实现自适应布局
- ✅ 确保所有可交互元素尺寸足够大，便于触摸操作
- ✅ 优化文本大小，确保在小屏幕设备上清晰可见
- ✅ 考虑异形屏适配，避免重要元素被遮挡
- ✅ 确保在不同屏幕尺寸下布局美观合理

## 3. 适配方案

### 3.1 主场景适配

1. **UI元素重组**：
   - 将分散的Label元素组织到VBoxContainer和HBoxContainer中
   - 使用网格布局或行列布局实现自适应排列

2. **锚点系统应用**：
   - 将所有UI元素从`layout_mode=0`改为使用锚点
   - 为每个元素设置合适的锚点预设

3. **按钮适配**：
   - 增加WorkButton和ShopButton的触摸区域
   - 设置合适的最小尺寸，确保易于点击
   - 调整按钮位置，确保在小屏幕设备上可见

4. **文本适配**：
   - 调整文本大小，确保在小屏幕设备上清晰可见
   - 优化文本布局，避免文本过长导致溢出

### 3.2 商城弹窗适配

1. **弹窗尺寸优化**：
   - 调整弹窗的最小和最大尺寸
   - 确保在小屏幕设备上弹窗不会过大

2. **商品项布局优化**：
   - 确保商品项在不同屏幕尺寸下都能清晰显示
   - 优化商品信息的排列，确保重要信息优先显示

3. **购买按钮适配**：
   - 确保购买按钮尺寸足够大，便于点击
   - 优化按钮位置，确保在小屏幕设备上易于操作

## 4. 适配实现步骤

### 步骤1：主场景UI重构
1. 替换固定偏移量为锚点系统
2. 组织UI元素到容器节点中
3. 优化按钮尺寸和位置
4. 调整文本大小和布局

### 步骤2：商城弹窗优化
1. 调整弹窗尺寸和锚点
2. 优化商品项布局
3. 调整购买按钮大小和位置
4. 确保在小屏幕设备上正常显示

### 步骤3：测试和优化
1. 在不同屏幕尺寸下测试布局效果
2. 优化触摸体验
3. 调整文本和按钮大小
4. 确保整体布局美观合理

## 5. 预期效果

- 游戏UI在不同屏幕尺寸下均能正常显示
- 所有可交互元素尺寸足够大，便于触摸操作
- 文本清晰可见，布局美观合理
- 适配异形屏，避免重要元素被遮挡
- 整体UI风格统一，视觉效果良好