# 实现金钱和体力变化提醒弹窗

## 1. 功能需求
- 创建一个提醒弹窗，用于提示金钱和体力的变化
- 弹窗显示方式：由下向上，淡入淡出
- 在点击工作按钮时，提示金钱增加体力减少
- 在购买食物时，提示体力增加金钱减少

## 2. 实现方案

### 2.1 创建提醒弹窗场景
- 创建新的场景文件 `res://scenes/ui/notification/notification_popup.tscn`
- 根节点使用 `Control` 类型
- 添加 `Label` 节点用于显示变化信息
- 添加 `Tween` 节点用于实现动画效果

### 2.2 实现弹窗脚本
- 创建新的脚本文件 `res://scripts/ui/notification/notification_popup.gd`
- 实现淡入淡出和上下移动的动画效果
- 提供显示通知的方法，支持显示金钱和体力的变化

### 2.3 修改现有代码

#### 2.3.1 修改 WorkLogic.gd
- 在 `_on_work_button_clicked` 函数中，当工作成功时
- 计算金钱和体力的变化量
- 调用通知弹窗显示变化信息

#### 2.3.2 修改 food_list.gd
- 在 `_on_buy_button_pressed` 函数中，当购买食物成功时
- 计算体力和金钱的变化量
- 调用通知弹窗显示变化信息

### 2.4 集成到主场景
- 在 `main_scene.tscn` 中添加通知弹窗节点
- 设置弹窗的初始位置和可见性

## 3. 技术细节

### 3.1 动画实现
- 使用 `Tween` 节点实现平滑的动画效果
- 动画步骤：
  1. 初始位置在屏幕底部外
  2. 向上移动到屏幕中央下方
  3. 淡入显示
  4. 停留一段时间
  5. 淡出处隐藏
  6. 向下移动出屏幕

### 3.2 通知内容
- 工作成功："金钱 +X, 体力 -Y"
- 购买食物："体力 +X, 金钱 -Y"

### 3.3 性能优化
- 使用对象池模式管理弹窗实例，避免频繁创建和销毁
- 限制同时显示的通知数量，避免界面混乱

## 4. 预期效果
- 当玩家点击工作按钮时，会从屏幕底部弹出一个通知，显示获得的金钱和消耗的体力
- 当玩家购买食物时，会从屏幕底部弹出一个通知，显示获得的体力和消耗的金钱
- 通知会自动消失，不会影响玩家的游戏操作